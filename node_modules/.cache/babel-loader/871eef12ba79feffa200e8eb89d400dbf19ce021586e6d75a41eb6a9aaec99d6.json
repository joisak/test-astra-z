{"ast":null,"code":"var _jsxFileName = \"/Users/joakimisaksson/Consid/Tests/astra/astra-search-cool-tv-shows/astra-z/src/Pages/ListShows.tsx\",\n  _s = $RefreshSig$();\nimport { Box, Button, TextField, Typography } from '@mui/material';\nimport List from '@mui/material/List';\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport FavoiritesModal from '../Components/FavoriteModal';\nimport TvShowListItem from '../Components/TvShowListItem';\nimport FavoriteIcon from '@mui/icons-material/Favorite';\nimport { useLocalStorageListShows } from '../useLocalStorageListShows';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ListShows = () => {\n  _s();\n  const [results, setResults] = useState([]);\n  const [latestSearchValue, setLatestSearchValue] = useState('');\n  const [error, setError] = useState(false);\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  // Getting data from localStorage\n  const [localStorageResults, localStorageFavorites, localStorageSearchValue] = useLocalStorageListShows();\n  const baseUrl = 'https://api.tvmaze.com/';\n  const searchShow = show => {\n    setLatestSearchValue(show);\n    setLoading(true);\n    axios.get(baseUrl + 'search/shows?q=' + show).then(_ref => {\n      let {\n        data\n      } = _ref;\n      setResults(data);\n      localStorage.setItem('searchForSeriesSearchResults', JSON.stringify(data));\n    }).catch(error => {\n      setError(true);\n    });\n    localStorage.setItem('searchForSeriesSearchValue', show);\n  };\n  const showNoResults = () => {\n    if (!results.length && latestSearchValue.length > 1) return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle2\",\n        children: \"Sorry, can't find any shows...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 6\n      }, this)\n    }, void 0, false);\n  };\n  const showError = () => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle2\",\n        children: \"Error...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }, this)\n    }, void 0, false);\n  };\n  useEffect(() => {\n    if (localStorageResults) {\n      setResults(localStorageResults);\n      setLatestSearchValue(localStorageSearchValue);\n    }\n  }, [localStorageResults, localStorageSearchValue]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      textAlign: 'center',\n      padding: '24px',\n      children: \"Search for TV-series\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      display: 'flex',\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        id: \"search-field\",\n        variant: \"outlined\",\n        fullWidth: true,\n        value: latestSearchValue,\n        onChange: e => searchShow(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 5\n      }, this), localStorageFavorites.length > 0 && /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleOpen,\n        children: /*#__PURE__*/_jsxDEV(FavoriteIcon, {\n          style: {\n            fill: 'red'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      children: results.map(result => {\n        return /*#__PURE__*/_jsxDEV(TvShowListItem, {\n          data: result.show\n        }, result.show.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 4\n    }, this), showNoResults(), error && showError, /*#__PURE__*/_jsxDEV(FavoiritesModal, {\n      handleClose: handleClose,\n      open: open,\n      favorites: localStorageFavorites\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n_s(ListShows, \"jU16zkgbsqlhnQzcEeVQ3uP2NvE=\", false, function () {\n  return [useLocalStorageListShows];\n});\n_c = ListShows;\nexport default ListShows;\nvar _c;\n$RefreshReg$(_c, \"ListShows\");","map":{"version":3,"names":["Box","Button","TextField","Typography","List","axios","React","useEffect","useState","FavoiritesModal","TvShowListItem","FavoriteIcon","useLocalStorageListShows","ListShows","results","setResults","latestSearchValue","setLatestSearchValue","error","setError","open","setOpen","loading","setLoading","handleOpen","handleClose","localStorageResults","localStorageFavorites","localStorageSearchValue","baseUrl","searchShow","show","get","then","data","localStorage","setItem","JSON","stringify","catch","showNoResults","length","showError","e","target","value","fill","map","result","id"],"sources":["/Users/joakimisaksson/Consid/Tests/astra/astra-search-cool-tv-shows/astra-z/src/Pages/ListShows.tsx"],"sourcesContent":["import { Box, Button, TextField, Typography } from '@mui/material';\nimport List from '@mui/material/List';\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { IDataResponse } from '../types';\nimport FavoiritesModal from '../Components/FavoriteModal';\nimport TvShowListItem from '../Components/TvShowListItem';\nimport FavoriteIcon from '@mui/icons-material/Favorite';\nimport { useLocalStorageListShows } from '../useLocalStorageListShows';\n\nconst ListShows = () => {\n\tconst [results, setResults] = useState<IDataResponse[]>([]);\n\tconst [latestSearchValue, setLatestSearchValue] = useState('');\n\tconst [error, setError] = useState(false);\n\tconst [open, setOpen] = useState(false);\n\tconst [loading, setLoading] = useState(false);\n\tconst handleOpen = () => setOpen(true);\n\tconst handleClose = () => setOpen(false);\n\n\t// Getting data from localStorage\n\tconst [localStorageResults, localStorageFavorites, localStorageSearchValue] =\n\t\tuseLocalStorageListShows();\n\n\tconst baseUrl = 'https://api.tvmaze.com/';\n\n\tconst searchShow = (show: string) => {\n\t\tsetLatestSearchValue(show);\n\t\tsetLoading(true);\n\t\taxios\n\t\t\t.get(baseUrl + 'search/shows?q=' + show)\n\t\t\t.then(({ data }) => {\n\t\t\t\tsetResults(data);\n\t\t\t\tlocalStorage.setItem(\n\t\t\t\t\t'searchForSeriesSearchResults',\n\t\t\t\t\tJSON.stringify(data)\n\t\t\t\t);\n\t\t\t})\n\t\t\t.catch((error: Error) => {\n\t\t\t\tsetError(true);\n\t\t\t});\n\n\t\tlocalStorage.setItem('searchForSeriesSearchValue', show);\n\t};\n\n\tconst showNoResults = () => {\n\t\tif (!results.length && latestSearchValue.length > 1)\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Typography variant=\"subtitle2\">\n\t\t\t\t\t\tSorry, can't find any shows...\n\t\t\t\t\t</Typography>\n\t\t\t\t</>\n\t\t\t);\n\t};\n\n\tconst showError = () => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Typography variant=\"subtitle2\">Error...</Typography>\n\t\t\t</>\n\t\t);\n\t};\n\n\tuseEffect(() => {\n\t\tif (localStorageResults) {\n\t\t\tsetResults(localStorageResults);\n\t\t\tsetLatestSearchValue(localStorageSearchValue);\n\t\t}\n\t}, [localStorageResults, localStorageSearchValue]);\n\n\treturn (\n\t\t<>\n\t\t\t<Typography variant=\"h4\" textAlign={'center'} padding={'24px'}>\n\t\t\t\tSearch for TV-series\n\t\t\t</Typography>\n\t\t\t<Box display={'flex'}>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"search-field\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tfullWidth\n\t\t\t\t\tvalue={latestSearchValue}\n\t\t\t\t\tonChange={(e) => searchShow(e.target.value)}\n\t\t\t\t/>\n\t\t\t\t{localStorageFavorites.length > 0 && (\n\t\t\t\t\t<Button onClick={handleOpen}>\n\t\t\t\t\t\t<FavoriteIcon style={{ fill: 'red' }} />\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t\t<List>\n\t\t\t\t{results.map((result) => {\n\t\t\t\t\treturn <TvShowListItem data={result.show} key={result.show.id} />;\n\t\t\t\t})}\n\t\t\t</List>\n\t\t\t{showNoResults()}\n\n\t\t\t{error && showError}\n\t\t\t<FavoiritesModal\n\t\t\t\thandleClose={handleClose}\n\t\t\t\topen={open}\n\t\t\t\tfavorites={localStorageFavorites}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default ListShows;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}