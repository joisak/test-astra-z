{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nexport function useLocalStorageShowDetails(urlId) {\n  _s();\n  const [data, setData] = useState(null);\n  const [favorite, setFavorite] = useState(false);\n  const [error, setError] = useState();\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const hasFavorites = localStorage.getItem('searchForSeriesFavorites');\n    if (hasFavorites) {\n      const favorites = JSON.parse(hasFavorites || '');\n      const isFavorite = favorites === null || favorites === void 0 ? void 0 : favorites.find(favorite => {\n        return String(favorite.id) === urlId;\n      });\n      setFavorite(isFavorite ? true : false);\n    }\n    const hasSearchResults = localStorage.getItem('searchForSeriesSearchResults');\n    if (hasSearchResults) {\n      let latestSearchResults = JSON.parse(hasSearchResults || '');\n      let showData = latestSearchResults.find(item => {\n        return String(item.show.id) === urlId;\n      });\n      if (showData) {\n        setData(showData);\n      } else {\n        console.log('ERROR!');\n        setError(true);\n      }\n    } else {\n      setError(true);\n    }\n    setLoading(false);\n  }, [urlId]);\n  return [data, error, favorite, loading];\n}\n_s(useLocalStorageShowDetails, \"sjDgwmiT3+niAttTn6J5lLU87tg=\");","map":{"version":3,"names":["useEffect","useState","useLocalStorageShowDetails","urlId","data","setData","favorite","setFavorite","error","setError","loading","setLoading","hasFavorites","localStorage","getItem","favorites","JSON","parse","isFavorite","find","String","id","hasSearchResults","latestSearchResults","showData","item","show","console","log"],"sources":["/Users/joakimisaksson/Consid/Tests/astra/astra-search-cool-tv-shows/astra-z/src/useLocalStorageShowDetails.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { IDataResponse, ITVShow } from './types';\n\nexport function useLocalStorageShowDetails(\n\turlId: string | undefined\n): [IDataResponse | null, any, boolean, boolean] {\n\tconst [data, setData] = useState<IDataResponse | null>(null);\n\tconst [favorite, setFavorite] = useState<boolean>(false);\n\tconst [error, setError] = useState<any>();\n\tconst [loading, setLoading] = useState<boolean>(true);\n\n\tuseEffect(() => {\n\t\tconst hasFavorites = localStorage.getItem('searchForSeriesFavorites');\n\t\tif (hasFavorites) {\n\t\t\tconst favorites = JSON.parse(hasFavorites || '');\n\t\t\tconst isFavorite = favorites?.find((favorite: ITVShow) => {\n\t\t\t\treturn String(favorite.id) === urlId;\n\t\t\t});\n\t\t\tsetFavorite(isFavorite ? true : false);\n\t\t}\n\n\t\tconst hasSearchResults = localStorage.getItem(\n\t\t\t'searchForSeriesSearchResults'\n\t\t);\n\t\tif (hasSearchResults) {\n\t\t\tlet latestSearchResults = JSON.parse(hasSearchResults || '');\n\t\t\tlet showData = latestSearchResults.find((item: IDataResponse) => {\n\t\t\t\treturn String(item.show.id) === urlId;\n\t\t\t});\n\n\t\t\tif (showData) {\n\t\t\t\tsetData(showData);\n\t\t\t} else {\n\t\t\t\tconsole.log('ERROR!');\n\t\t\t\tsetError(true);\n\t\t\t}\n\t\t} else {\n\t\t\tsetError(true);\n\t\t}\n\t\tsetLoading(false);\n\t}, [urlId]);\n\n\treturn [data, error, favorite, loading];\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAG3C,OAAO,SAASC,0BAA0B,CACzCC,KAAyB,EACuB;EAAA;EAChD,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGJ,QAAQ,CAAuB,IAAI,CAAC;EAC5D,MAAM,CAACK,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAU,KAAK,CAAC;EACxD,MAAM,CAACO,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,EAAO;EACzC,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAU,IAAI,CAAC;EAErDD,SAAS,CAAC,MAAM;IACf,MAAMY,YAAY,GAAGC,YAAY,CAACC,OAAO,CAAC,0BAA0B,CAAC;IACrE,IAAIF,YAAY,EAAE;MACjB,MAAMG,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACL,YAAY,IAAI,EAAE,CAAC;MAChD,MAAMM,UAAU,GAAGH,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEI,IAAI,CAAEb,QAAiB,IAAK;QACzD,OAAOc,MAAM,CAACd,QAAQ,CAACe,EAAE,CAAC,KAAKlB,KAAK;MACrC,CAAC,CAAC;MACFI,WAAW,CAACW,UAAU,GAAG,IAAI,GAAG,KAAK,CAAC;IACvC;IAEA,MAAMI,gBAAgB,GAAGT,YAAY,CAACC,OAAO,CAC5C,8BAA8B,CAC9B;IACD,IAAIQ,gBAAgB,EAAE;MACrB,IAAIC,mBAAmB,GAAGP,IAAI,CAACC,KAAK,CAACK,gBAAgB,IAAI,EAAE,CAAC;MAC5D,IAAIE,QAAQ,GAAGD,mBAAmB,CAACJ,IAAI,CAAEM,IAAmB,IAAK;QAChE,OAAOL,MAAM,CAACK,IAAI,CAACC,IAAI,CAACL,EAAE,CAAC,KAAKlB,KAAK;MACtC,CAAC,CAAC;MAEF,IAAIqB,QAAQ,EAAE;QACbnB,OAAO,CAACmB,QAAQ,CAAC;MAClB,CAAC,MAAM;QACNG,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;QACrBnB,QAAQ,CAAC,IAAI,CAAC;MACf;IACD,CAAC,MAAM;MACNA,QAAQ,CAAC,IAAI,CAAC;IACf;IACAE,UAAU,CAAC,KAAK,CAAC;EAClB,CAAC,EAAE,CAACR,KAAK,CAAC,CAAC;EAEX,OAAO,CAACC,IAAI,EAAEI,KAAK,EAAEF,QAAQ,EAAEI,OAAO,CAAC;AACxC;AAAC,GAxCeR,0BAA0B"},"metadata":{},"sourceType":"module","externalDependencies":[]}